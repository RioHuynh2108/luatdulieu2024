<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tr·∫Øc nghi·ªám Lu·∫≠t D·ªØ li·ªáu</title>
<style>
  :root{--bg:rgba(0,0,0,0.6);--card:#ffffff;--accent:#FFD700;}
  body{
    margin:0;padding:20px;font-family:Segoe UI, Roboto, Arial, sans-serif;
    background: linear-gradient(180deg,#0f2027,#203a43 60%); color:#fff;
    min-height:100vh;box-sizing:border-box;
  }

  /* Layout tr√™n video n·ªÅn ho·∫∑c n·ªÅn gradient */
  .app {
    max-width:980px;margin:18px auto;padding:18px;
    background: linear-gradient( rgba(0,0,0,0.45), rgba(0,0,0,0.45) );
    border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,0.6);
  }
/* Video n·ªÅn */
#video-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 120%;
  height: 120%;
  object-fit: cover;
  z-index: -1;
}

/* L·ªõp ph·ªß n·ªôi dung */
.overlay {
  position: relative;
  z-index: 1;
  padding: 20px;
  color: white;
}

   /* G·ªôp header v√† marquee th√†nh m·ªôt khung duy nh·∫•t */
.header-box {
  background-color: rgba(0, 0, 0, 0.6);
  padding: 10px 15px;
  text-align: center;
  border-radius: 10px;
  margin: 10px auto;
  max-width: 100%;
}

/* Ti√™u ƒë·ªÅ ch√≠nh */
.header-box h1 {
  font-size: 1.5em;
  color: #FFD700;
  font-weight: bold;
  margin-bottom: 10px;
}

/* Khung ch·ª©a ch·ªØ ch·∫°y */
/* Khung ch·ª©a ch·ªØ ch·∫°y */
.marquee-container {
  width: 100%;
  overflow: hidden; /* ·∫®n ph·∫ßn ch·ªØ b·ªã tr√†n */
  background: rgba(0,0,0,0.6);
  padding: 10px 0;
  box-sizing: border-box;
}

/* Ch·ªØ ch·∫°y b√™n trong */
.marquee-text {
  display: inline-block;
  padding-left: 100%; /* B·∫Øt ƒë·∫ßu t·ª´ ngo√†i khung */
  white-space: nowrap;
  animation: marquee 15s linear infinite;
  font-size: 1.1em;
  color: #FFD700;
}

/* Animation ch·∫°y t·ª´ ph·∫£i sang tr√°i */
@keyframes marquee {
  0%   { transform: translateX(0); }
  100% { transform: translateX(-100%); }
}


/* B·ªë c·ª•c container */
.container {
  display: flex;
  margin-top: 10px;
}

/* Taskbar */
.taskbar {
  width: 150px;
  background-color: rgba(0, 0, 0, 0.7);
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.taskbar button {
  background-color: #222;
  color: white;
  border: 2px solid #FFD700;
  border-radius: 6px;
  padding: 8px 10px;
  font-size: 0.95em;
  cursor: pointer;
}
.taskbar button:hover {
  background-color: #FFD700;
  color: black;
}

  .header{
    text-align:center;margin-bottom:12px;
  }
  .header h1{margin:6px 0;font-size:1.4rem;color:var(--accent);}
  .header p{margin:0;font-size:0.95rem;color:#fffbdfa3;}

  .question {
    display:none;
    background: rgba(255,255,255,0.95);
    color:#111;padding:18px;border-radius:10px;margin:18px auto;
    max-width:820px;box-shadow:0 4px 14px rgba(0,0,0,0.18);
  }
  .question.active { display:block; }

  .question h3{margin:0 0 12px 0;color:#0d47a1;}
  label.option{
    display:block;background:#f7f7f7;border:1px solid #e6e6e6;padding:10px 12px;border-radius:8px;margin:8px 0;cursor:pointer;
    transition:transform .08s ease;
  }
  label.option:hover{transform:translateY(-2px);}
  label.option input{margin-right:8px;}

  .progress{
    max-width:820px;margin:6px auto 0;color:#fff;font-size:0.92rem;
    display:flex;justify-content:space-between;align-items:center;
  }

  #result{
    display:none;background: #fff;padding:18px;color:#111;border-radius:10px;margin-top:16px;
    max-width:920px;margin-left:auto;margin-right:auto;
  }
  #result h2{color:#0d47a1;margin-top:0;}
  .result-item{border-top:1px dashed #ddd;padding:10px 0;}
  .correct{color:green;font-weight:bold;}
  .incorrect{color:#c62828;font-weight:bold;}
  .explain{font-size:0.95rem;color:#333;margin-top:6px;background:#f3f6fb;padding:8px;border-radius:6px;}
  .sources{font-size:0.85rem;color:#444;margin-top:10px;}

  .btn-row{display:flex;gap:12px;justify-content:center;margin-top:14px;}
  button.btn {
    background:var(--accent);color:#000;border:none;padding:10px 16px;border-radius:8px;cursor:pointer;font-weight:600;
  }
  button.btn.secondary{background:#eee;color:#000;}
  .small{font-size:0.92rem;color:#fff;text-align:center;margin-top:6px;}

.question-container {
    background-color: rgba(255, 255, 255, 0.2);
    padding: 20px;
    border-radius: 10px;
}
.progress-box {
  margin-top: 20px;
  padding: 10px;
  background-color: rgba(0,0,0,0.6);
  border: 2px solid #FFD700;
  border-radius: 8px;
  text-align: center;
}

.progress {
  display: flex;
  justify-content: space-between;
  font-size: 0.95rem;
  color: #FFD700;
}

.option {
    display: block;
    padding: 10px;
    margin-bottom: 8px;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s;
}

.option:hover {
    background-color: rgba(0, 123, 255, 0.1);
}

input[type="radio"]:checked + label {
    background-color: rgba(0, 123, 255, 0.2);
}


  /* Responsive */
  @media (max-width:720px){
    body{padding:12px}
    .app{padding:12px}
  }
</style>
</head>
<body>
<body>
<!-- Nh·∫°c n·ªÅn -->
<audio id="bg-music" loop>
  <source src="nhacnen.mp3" type="audio/mp3">
</audio>

<!-- N√∫t b·∫≠t/t·∫Øt nh·∫°c n·ªÅn -->
<div style="position: fixed; top: 1px; right: 20px; z-index: 10000;">
  <button id="music-btn" onclick="toggleMusic()" 
          style="padding: 8px 14px; font-size: 0.9em; background-color: #FFD700; color: black; border: none; border-radius: 6px; cursor: pointer;">
    üîä B·∫≠t/T·∫Øt nh·∫°c n·ªÅn
  </button>
</div>

<script>
  const music = document.getElementById('bg-music');
  const musicBtn = document.getElementById('music-btn');
  let isPlaying = false;

  function toggleMusic() {
    if (isPlaying) {
      music.pause();
      musicBtn.textContent = "üîá B·∫≠t nh·∫°c n·ªÅn";
    } else {
      music.play();
      musicBtn.textContent = "üîä T·∫Øt nh·∫°c n·ªÅn";
    }
    isPlaying = !isPlaying;
  }
</script>



<video id="video-background" autoplay loop muted>
  <source src="videonen4.mp4" type="video/mp4">
</video>

<div class="overlay">
  <div class="header-box">
    <h1>üõ°Ô∏è TR·∫ÆC NGHI·ªÜM KH√ÅCH QUAN</h1>
   <div class="marquee-container">
  <div class="marquee-text">
     üì¢ B·∫°n ƒëang theo d√µi ph·∫ßn m·ªÅm tr√¨nh chi·∫øu t∆∞∆°ng t√°c B√†i d·ª± thi "T√¨m hi·ªÉu Lu·∫≠t d·ªØ li·ªáu trong C√¥ng an nh√¢n d√¢n" - Vui l√≤ng nh·∫•p ch·ªçn v√†o n·ªôi dung c·∫ßn xem! üì¢
    </div>
  </div>
<div class="container">
    <!-- Thanh b√™n tr√°i -->
    <div class="taskbar">
        <button onclick="window.location.href='index.html'">üè† Trang ch·ªß</button>
      <button onclick="window.location.href='gioithieuchung.html'">üìÑ Thuy·∫øt minh b√†i d·ª± thi</button>
      <button onclick="window.location.href='traloicauhoi.html'">üìå Tr·∫£ l·ªùi c√¢u h·ªèi b√†i d·ª± thi</button>
      <button onclick="window.location.href='vanbanluat.html'">üìö C√°c vƒÉn b·∫£n Lu·∫≠t li√™n quan</button>
      <button onclick="window.location.href='hinhanh.html'">üé• H√¨nh ·∫£nh tuy√™n truy·ªÅn</button>
      <button onclick="window.location.href='tracnghiem.html'">üõ°Ô∏è Tr·∫Øc nghi·ªám kh√°ch quan</button>
      <button onclick="window.location.href='maqr.html'">üß† M√£ QR t√†i li·ªáu</button>
      <button onclick="window.location.href='khuyennghi.html'">üìé Khuy·∫øn ngh·ªã</button>
    </div>

<!-- Khu v·ª±c k·∫øt qu·∫£ -->
<div id="result" role="region" aria-live="polite"></div>

<!-- Khung ti·∫øn tr√¨nh ·ªü cu·ªëi k·∫øt qu·∫£ -->
<div class="progress-box" style="display:none;">
  <div class="progress">
    <span id="qLabel">C√¢u h·ªèi 1 / 10</span>
    <span id="hint">Ch·ªçn 1 ƒë√°p √°n ƒë·ªÉ chuy·ªÉn sang c√¢u ti·∫øp theo</span>
  </div>
</div>

    <!-- C√¢u h·ªèi (10 c√¢u) -->
    <div id="q1" class="question active">
      <h3>1. Lu·∫≠t D·ªØ li·ªáu ƒë∆∞·ª£c Qu·ªëc h·ªôi th√¥ng qua v√†o th·ªùi ƒëi·ªÉm n√†o?</h3>
      <label class="option"><input type="radio" name="q1" value="a"> A. 2023</label>
      <label class="option"><input type="radio" name="q1" value="b"> B. 2024</label>
      <label class="option"><input type="radio" name="q1" value="c"> C. 2025</label>
      <label class="option"><input type="radio" name="q1" value="d"> D. 2026</label>
    </div>

    <div id="q2" class="question">
      <h3>2. Lu·∫≠t D·ªØ li·ªáu c√≥ hi·ªáu l·ª±c t·ª´ ng√†y n√†o?</h3>
      <label class="option"><input type="radio" name="q2" value="a"> A. 1/1/2025</label>
      <label class="option"><input type="radio" name="q2" value="b"> B. 1/7/2025</label>
      <label class="option"><input type="radio" name="q2" value="c"> C. 31/12/2025</label>
      <label class="option"><input type="radio" name="q2" value="d"> D. 1/7/2024</label>
    </div>

    <div id="q3" class="question">
      <h3>3. D·ªØ li·ªáu c√° nh√¢n n√†o sau ƒë√¢y ƒë∆∞·ª£c coi l√† d·ªØ li·ªáu nh·∫°y c·∫£m?</h3>
      <label class="option"><input type="radio" name="q3" value="a"> A. S·ªë ƒëi·ªán tho·∫°i</label>
      <label class="option"><input type="radio" name="q3" value="b"> B. CMND/CCCD</label>
      <label class="option"><input type="radio" name="q3" value="c"> C. Th√¥ng tin v·ªÅ s·ª©c kh·ªèe</label>
      <label class="option"><input type="radio" name="q3" value="d"> D. Email c√° nh√¢n</label>
    </div>

    <div id="q4" class="question">
      <h3>4. T·ªï ch·ª©c x·ª≠ l√Ω d·ªØ li·ªáu tr√°i ph√©p s·∫Ω b·ªã x·ª≠ ph·∫°t nh∆∞ th·∫ø n√†o?</h3>
      <label class="option"><input type="radio" name="q4" value="a"> A. Ph√™ b√¨nh n·ªôi b·ªô</label>
      <label class="option"><input type="radio" name="q4" value="b"> B. Ch·ªâ b·ªã c·∫£nh c√°o</label>
      <label class="option"><input type="radio" name="q4" value="c"> C. C√≥ th·ªÉ b·ªã ph·∫°t ti·ªÅn ho·∫∑c truy c·ª©u tr√°ch nhi·ªám h√¨nh s·ª±</label>
      <label class="option"><input type="radio" name="q4" value="d"> D. Kh√¥ng b·ªã x·ª≠ ph·∫°t</label>
    </div>

    <div id="q5" class="question">
      <h3>5. Ai c√≥ quy·ªÅn y√™u c·∫ßu ch·ªânh s·ª≠a ho·∫∑c x√≥a d·ªØ li·ªáu c√° nh√¢n c·ªßa m√¨nh?</h3>
      <label class="option"><input type="radio" name="q5" value="a"> A. B·∫•t k·ª≥ ai</label>
      <label class="option"><input type="radio" name="q5" value="b"> B. C∆° quan nh√† n∆∞·ªõc</label>
      <label class="option"><input type="radio" name="q5" value="c"> C. Ch·ªß th·ªÉ d·ªØ li·ªáu</label>
      <label class="option"><input type="radio" name="q5" value="d"> D. Qu·∫£n tr·ªã h·ªá th·ªëng</label>
    </div>

    <div id="q6" class="question">
      <h3>6. Lu·∫≠t D·ªØ li·ªáu √°p d·ª•ng cho?</h3>
      <label class="option"><input type="radio" name="q6" value="a"> A. Ch·ªâ c√¥ng d√¢n Vi·ªát Nam</label>
      <label class="option"><input type="radio" name="q6" value="b"> B. M·ªçi t·ªï ch·ª©c, c√° nh√¢n c√≥ ho·∫°t ƒë·ªông x·ª≠ l√Ω d·ªØ li·ªáu t·∫°i Vi·ªát Nam</label>
      <label class="option"><input type="radio" name="q6" value="c"> C. Ch·ªâ c∆° quan nh√† n∆∞·ªõc</label>
      <label class="option"><input type="radio" name="q6" value="d"> D. Ng∆∞·ªùi n∆∞·ªõc ngo√†i</label>
    </div>

    <div id="q7" class="question">
      <h3>7. Tr∆∞·ªõc khi thu th·∫≠p d·ªØ li·ªáu c√° nh√¢n, t·ªï ch·ª©c c·∫ßn l√†m g√¨?</h3>
      <label class="option"><input type="radio" name="q7" value="a"> A. G·ª≠i th√¥ng b√°o l√™n b·ªô</label>
      <label class="option"><input type="radio" name="q7" value="b"> B. Xin √Ω ki·∫øn chuy√™n gia</label>
      <label class="option"><input type="radio" name="q7" value="c"> C. C√≥ s·ª± ƒë·ªìng √Ω c·ªßa ch·ªß th·ªÉ d·ªØ li·ªáu</label>
      <label class="option"><input type="radio" name="q7" value="d"> D. Kh√¥ng c·∫ßn l√†m g√¨</label>
    </div>

    <div id="q8" class="question">
      <h3>8. D·ªØ li·ªáu c·∫ßn ƒë∆∞·ª£c b·∫£o m·∫≠t b·∫±ng?</h3>
      <label class="option"><input type="radio" name="q8" value="a"> A. VƒÉn b·∫£n</label>
      <label class="option"><input type="radio" name="q8" value="b"> B. M√£ h√≥a, ki·ªÉm so√°t truy c·∫≠p, l∆∞u tr·ªØ an to√†n</label>
      <label class="option"><input type="radio" name="q8" value="c"> C. Kho l∆∞u tr·ªØ gi·∫•y</label>
      <label class="option"><input type="radio" name="q8" value="d"> D. Kh√¥ng c·∫ßn b·∫£o m·∫≠t</label>
    </div>

    <div id="q9" class="question">
      <h3>9. D·ªØ li·ªáu n√†o KH√îNG ƒë∆∞·ª£c ph√©p chia s·∫ª n·∫øu kh√¥ng c√≥ s·ª± ƒë·ªìng √Ω?</h3>
      <label class="option"><input type="radio" name="q9" value="a"> A. H·ªç t√™n</label>
      <label class="option"><input type="radio" name="q9" value="b"> B. T√¨nh tr·∫°ng h√¥n nh√¢n</label>
      <label class="option"><input type="radio" name="q9" value="c"> C. S·ªë CMND/CCCD</label>
      <label class="option"><input type="radio" name="q9" value="d"> D. ƒê·ªãa ch·ªâ c√¥ng ty</label>
    </div>

    <div id="q10" class="question">
      <h3>10. M·ª•c ti√™u ch√≠nh c·ªßa Lu·∫≠t D·ªØ li·ªáu l√†?</h3>
      <label class="option"><input type="radio" name="q10" value="a"> A. B√°n d·ªØ li·ªáu c√° nh√¢n</label>
      <label class="option"><input type="radio" name="q10" value="b"> B. Qu·∫£n l√Ω nh√† n∆∞·ªõc v·ªÅ c√¥ng ngh·ªá</label>
      <label class="option"><input type="radio" name="q10" value="c"> C. B·∫£o v·ªá quy·ªÅn ri√™ng t∆∞ v√† an to√†n d·ªØ li·ªáu</label>
      <label class="option"><input type="radio" name="q10" value="d"> D. Giao d·ªãch d·ªØ li·ªáu d·ªÖ d√†ng h∆°n</label>
    </div>

    <div class="btn-row" aria-hidden="true" style="visibility:hidden;">
      <!-- placeholder n·∫øu mu·ªën n√∫t next manual sau n√†y -->
    </div>

    <!-- Khu v·ª±c k·∫øt qu·∫£ -->
    <div id="result" role="region" aria-live="polite"></div>

    <div class="btn-row" style="margin-top:14px;">
      <button id="restartBtn" class="btn secondary" style="display:none;">üîÅ B·∫Øt ƒë·∫ßu l·∫°i</button>
      <button id="downloadReport" class="btn" style="display:none;">üì• T·∫£i b√°o c√°o (HTML)</button>
    </div>

      </div>

<script>
/* ========== C·∫•u h√¨nh ƒë√°p √°n + gi·∫£i th√≠ch + d·∫´n ch·ª©ng ========== */
const correctData = {
  q1: {correct: 'b', textCorrect: 'B. 2024', explain: 'Lu·∫≠t D·ªØ li·ªáu (s·ªë 60/2024/QH15) ƒë∆∞·ª£c Qu·ªëc h·ªôi th√¥ng qua ng√†y 30/11/2024.' , sourceLabel: 'Lu·∫≠t D·ªØ li·ªáu (60/2024/QH15)'},
  q2: {correct: 'b', textCorrect: 'B. 1/7/2025', explain: 'Lu·∫≠t D·ªØ li·ªáu c√≥ hi·ªáu l·ª±c thi h√†nh t·ª´ ng√†y 01/07/2025.' , sourceLabel: 'Lu·∫≠t D·ªØ li·ªáu (60/2024/QH15)'},
  q3: {correct: 'c', textCorrect: 'C. Th√¥ng tin v·ªÅ s·ª©c kh·ªèe', explain: 'Th√¥ng tin v·ªÅ s·ª©c kh·ªèe thu·ªôc nh√≥m d·ªØ li·ªáu c√° nh√¢n nh·∫°y c·∫£m theo c√°c quy ƒë·ªãnh v·ªÅ b·∫£o v·ªá d·ªØ li·ªáu c√° nh√¢n (tham chi·∫øu Ngh·ªã ƒë·ªãnh/lu·∫≠t li√™n quan v·ªÅ d·ªØ li·ªáu c√° nh√¢n).' , sourceLabel: 'Ngh·ªã ƒë·ªãnh/lu·∫≠t v·ªÅ B·∫£o v·ªá D·ªØ li·ªáu c√° nh√¢n (tham kh·∫£o)'},
  q4: {correct: 'c', textCorrect: 'C. C√≥ th·ªÉ b·ªã ph·∫°t ti·ªÅn ho·∫∑c truy c·ª©u tr√°ch nhi·ªám h√¨nh s·ª±', explain: 'Lu·∫≠t D·ªØ li·ªáu quy ƒë·ªãnh c√°c bi·ªán ph√°p x·ª≠ l√Ω ƒë·ªëi v·ªõi h√†nh vi vi ph·∫°m, c√≥ th·ªÉ k√®m theo x·ª≠ ph·∫°t h√†nh ch√≠nh ho·∫∑c truy c·ª©u tr√°ch nhi·ªám h√¨nh s·ª± t√πy m·ª©c ƒë·ªô v√† lo·∫°i vi ph·∫°m.' , sourceLabel: 'Lu·∫≠t D·ªØ li·ªáu (60/2024/QH15)'},
  q5: {correct: 'c', textCorrect: 'C. Ch·ªß th·ªÉ d·ªØ li·ªáu', explain: 'Ch·ªß th·ªÉ d·ªØ li·ªáu c√≥ quy·ªÅn y√™u c·∫ßu thu h·ªìi, x√≥a ho·∫∑c h·ªßy d·ªØ li·ªáu do m√¨nh cung c·∫•p theo quy ƒë·ªãnh (quy·ªÅn c·ªßa ch·ªß th·ªÉ d·ªØ li·ªáu).' , sourceLabel: 'Lu·∫≠t D·ªØ li·ªáu ‚Äî quy·ªÅn c·ªßa ch·ªß th·ªÉ d·ªØ li·ªáu (ƒêi·ªÅu quy ƒë·ªãnh quy·ªÅn)'},
  q6: {correct: 'b', textCorrect: 'B. M·ªçi t·ªï ch·ª©c, c√° nh√¢n c√≥ ho·∫°t ƒë·ªông x·ª≠ l√Ω d·ªØ li·ªáu t·∫°i Vi·ªát Nam', explain: 'Lu·∫≠t √°p d·ª•ng v·ªõi m·ªçi t·ªï ch·ª©c, c√° nh√¢n c√≥ ho·∫°t ƒë·ªông x√¢y d·ª±ng, x·ª≠ l√Ω, s·ª≠ d·ª•ng d·ªØ li·ªáu t·∫°i Vi·ªát Nam.' , sourceLabel: 'Lu·∫≠t D·ªØ li·ªáu (60/2024/QH15)'},
  q7: {correct: 'c', textCorrect: 'C. C√≥ s·ª± ƒë·ªìng √Ω c·ªßa ch·ªß th·ªÉ d·ªØ li·ªáu', explain: 'Vi·ªác thu th·∫≠p d·ªØ li·ªáu c√° nh√¢n th∆∞·ªùng ph·∫£i c√≥ s·ª± ƒë·ªìng √Ω c·ªßa ch·ªß th·ªÉ d·ªØ li·ªáu, tr·ª´ c√°c tr∆∞·ªùng h·ª£p lu·∫≠t quy ƒë·ªãnh kh√°c (v√≠ d·ª• cung c·∫•p cho c∆° quan nh√† n∆∞·ªõc trong t√¨nh hu·ªëng kh·∫©n c·∫•p).' , sourceLabel: 'Lu·∫≠t D·ªØ li·ªáu (ƒêi·ªÅu v·ªÅ cung c·∫•p d·ªØ li·ªáu cho c∆° quan nh√† n∆∞·ªõc)'},
  q8: {correct: 'b', textCorrect: 'B. M√£ h√≥a, ki·ªÉm so√°t truy c·∫≠p, l∆∞u tr·ªØ an to√†n', explain: 'Lu·∫≠t khuy·∫øn ngh·ªã v√† quy ƒë·ªãnh c√°c bi·ªán ph√°p b·∫£o ƒë·∫£m an to√†n d·ªØ li·ªáu nh∆∞ m√£ h√≥a, ki·ªÉm so√°t truy c·∫≠p, qu·∫£n tr·ªã r·ªßi ro trong x·ª≠ l√Ω d·ªØ li·ªáu.' , sourceLabel: 'Lu·∫≠t D·ªØ li·ªáu (c√°c ƒëi·ªÅu kho·∫£n v·ªÅ b·∫£o v·ªá, qu·∫£n tr·ªã d·ªØ li·ªáu)'},
  q9: {correct: 'c', textCorrect: 'C. S·ªë CMND/CCCD', explain: 'S·ªë CMND/CCCD l√† th√¥ng tin c√° nh√¢n quan tr·ªçng; vi·ªác chia s·∫ª c·∫ßn tu√¢n theo quy ƒë·ªãnh v·ªÅ quy·ªÅn ri√™ng t∆∞ v√† ph·∫£i c√≥ s·ª± ƒë·ªìng √Ω c·ªßa ch·ªß th·ªÉ d·ªØ li·ªáu.' , sourceLabel: 'Lu·∫≠t D·ªØ li·ªáu & Ngh·ªã ƒë·ªãnh li√™n quan'},
  q10:{correct: 'c', textCorrect: 'C. B·∫£o v·ªá quy·ªÅn ri√™ng t∆∞ v√† an to√†n d·ªØ li·ªáu', explain: 'M·ªôt trong nh·ªØng m·ª•c ti√™u ch√≠nh c·ªßa Lu·∫≠t l√† b·∫£o v·ªá quy·ªÅn ri√™ng t∆∞, an to√†n d·ªØ li·ªáu, ƒë·ªìng th·ªùi qu·∫£n tr·ªã, ph√°t tri·ªÉn d·ªØ li·ªáu l√† t√†i nguy√™n.' , sourceLabel: 'Lu·∫≠t D·ªØ li·ªáu (60/2024/QH15)'}
};

/* ========== tr·∫°ng th√°i ========== */
let current = 1;
const total = 10;
let userAnswers = {};

/* C·∫≠p nh·∫≠t nh√£n progress */
function updateProgressLabel(){
  document.getElementById('qLabel').textContent = `C√¢u h·ªèi ${Math.min(current,total) } / ${total}`;
}

/* Chuy·ªÉn c√¢u h·ªèi k·∫ø khi ch·ªçn radio */
document.querySelectorAll('input[type=radio]').forEach(radio => {
  radio.addEventListener('change', (e) => {
    const name = e.target.name; // e.g., q3
    userAnswers[name] = e.target.value; // l∆∞u ƒë√°p √°n
    // ·∫©n c√¢u hi·ªán t·∫°i
    const qElem = document.getElementById(name);
    if(qElem) qElem.classList.remove('active');
    // tƒÉng current
    current++;
    if(current <= total){
      const next = document.getElementById('q' + current);
      if(next) next.classList.add('active');
      updateProgressLabel();
      // cu·ªôn l√™n ƒë·∫ßu khung (t·ªët cho mobile)
      window.scrollTo({top:0,behavior:'smooth'});
    } else {
      // hi·ªÉn th·ªã k·∫øt qu·∫£
      showResult();
      // ·∫©n progress hint
      document.getElementById('hint').textContent = 'Ho√†n t·∫•t. Xem k·∫øt qu·∫£ b√™n d∆∞·ªõi.';
      // reveal restart button
      document.getElementById('restartBtn').style.display = 'inline-block';
      document.getElementById('downloadReport').style.display = 'inline-block';
      window.scrollTo({top:document.body.scrollHeight, behavior:'smooth'});
    }
  });
});

/* Hi·ªÉn th·ªã k·∫øt qu·∫£ + gi·∫£i th√≠ch k√®m d·∫´n ch·ª©ng (ngu·ªìn) */
function showResult(){
  let score = 0;
  let html = `<h2>K·∫øt qu·∫£ b√†i tr·∫Øc nghi·ªám</h2>`;
  html += `<p><strong>ƒêi·ªÉm c·ªßa b·∫°n: </strong>`;
  // t√≠nh ƒëi·ªÉm
  for(let i=1;i<=total;i++){
    const qKey = 'q'+i;
    const ua = userAnswers[qKey] || null;
    if(ua && ua === correctData[qKey].correct) score++;
  }
  html += `<strong>${score} / ${total}</strong></p>`;

  // Chi ti·∫øt t·ª´ng c√¢u
  for(let i=1;i<=total;i++){
    const qKey = 'q'+i;
    const ua = userAnswers[qKey] || 'Ch∆∞a tr·∫£ l·ªùi';
    const corr = correctData[qKey].correct;
    const corrText = correctData[qKey].textCorrect;
    const expl = correctData[qKey].explain;
    const src = correctData[qKey].sourceLabel;

    const ok = (ua === corr);
    html += `<div class="result-item">`;
    html += `<div><strong>C√¢u ${i}:</strong> ${ ok ? '<span class="correct">ƒê√∫ng ‚úÖ</span>' : '<span class="incorrect">Sai ‚ùå</span>' }</div>`;
    html += `<div>‚óè B·∫°n ch·ªçn: <strong>${ ua === 'Ch∆∞a tr·∫£ l·ªùi' ? ua : optionText(qKey,ua) }</strong></div>`;
    html += `<div>‚óè ƒê√°p √°n ƒë√∫ng: <strong>${corrText}</strong></div>`;
    html += `<div class="explain">üí° Gi·∫£i th√≠ch: ${expl}`;
    // th√™m d·∫´n ch·ª©ng t√≥m t·∫Øt
    html += `<div style="font-size:0.85rem;margin-top:8px;color:#666">Ngu·ªìn: ${src}</div>`;
    html += `</div>`; // explain
    html += `</div>`; // result-item
  }

  // Th√™m link ngu·ªìn ch√≠nh th·ª©c
  html += `<div style="margin-top:12px;font-size:0.9rem;color:#333">Tham kh·∫£o vƒÉn b·∫£n ch√≠nh th·ª©c: <a href="https://vanban.chinhphu.vn/?classid=1&docid=212488" target="_blank">Lu·∫≠t s·ªë 60/2024/QH15 ‚Äî Lu·∫≠t D·ªØ li·ªáu (C·ªïng TTƒêT Ch√≠nh ph·ªß)</a>.`;
  html += `<div style="font-size:0.85rem;color:#333;margin-top:6px">T√†i li·ªáu gi·∫£i th√≠ch/kh√°i ni·ªám: Ngh·ªã ƒë·ªãnh, c√°c vƒÉn b·∫£n lu·∫≠t li√™n quan v√† Ngh·ªã ƒë·ªãnh 13/2023 (v·ªÅ d·ªØ li·ªáu c√° nh√¢n) c≈©ng ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ l√†m r√µ kh√°i ni·ªám "d·ªØ li·ªáu c√° nh√¢n nh·∫°y c·∫£m".</div></div>`;

  const resultDiv = document.getElementById('result');
  resultDiv.innerHTML = html;
  resultDiv.style.display = 'block';
}

/* H√†m l·∫•y vƒÉn b·∫£n t·ª´ l·ª±a ch·ªçn (ƒë·ªÉ hi·ªÉn th·ªã ch√≠nh x√°c nh·ªØng g√¨ user ƒë√£ ch·ªçn) */
function optionText(qKey, opt){
  const qElem = document.getElementById(qKey);
  if(!qElem) return opt;
  const inputs = qElem.querySelectorAll('input[type=radio]');
  for(const ip of inputs){
    if(ip.value === opt){
      // tr·∫£ v·ªÅ label text (lo·∫°i b·ªè input)
      return ip.parentElement.textContent.trim();
    }
  }
  return opt;
}

/* N√∫t b·∫Øt ƒë·∫ßu l·∫°i */
document.getElementById('restartBtn').addEventListener('click', () => {
  // reset bi·∫øn tr·∫°ng th√°i
  current = 1;
  userAnswers = {};
  // ·∫©n t·∫•t c·∫£ c√¢u r·ªìi ch·ªâ b·∫≠t q1
  for(let i=1;i<=total;i++){
    const e = document.getElementById('q'+i);
    if(e) e.classList.remove('active');
    // b·ªè ch·ªçn radio
    const radios = document.querySelectorAll(`#q${i} input[type=radio]`);
    radios.forEach(r => r.checked = false);
  }
  document.getElementById('q1').classList.add('active');
  document.getElementById('result').style.display = 'none';
  document.getElementById('restartBtn').style.display = 'none';
  document.getElementById('downloadReport').style.display = 'none';
  document.getElementById('hint').textContent = 'Ch·ªçn 1 ƒë√°p √°n ƒë·ªÉ chuy·ªÉn sang c√¢u ti·∫øp theo';
  updateProgressLabel();
  window.scrollTo({top:0,behavior:'smooth'});
});

/* T·∫£i b√°o c√°o (t·∫°o file HTML nh·ªè ch·ª©a k·∫øt qu·∫£) */
document.getElementById('downloadReport').addEventListener('click', () => {
  // N·∫øu ch∆∞a ch·∫•m, kh√¥ng cho t·∫£i
  const resDiv = document.getElementById('result');
  if(resDiv.innerHTML.trim() === '') return alert('B·∫°n c·∫ßn ho√†n th√†nh b√†i tr∆∞·ªõc khi t·∫£i b√°o c√°o.');
  // t·∫°o n·ªôi dung
  const content = `<!doctype html><meta charset="utf-8"><title>B√°o c√°o k·∫øt qu·∫£</title><style>body{font-family:Arial,Helvetica,sans-serif;padding:18px;}</style>${resDiv.innerHTML}`;
  const blob = new Blob([content], {type: 'text/html'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = 'ketqua_tracnghiem.html';
  document.body.appendChild(a); a.click();
  a.remove();
  URL.revokeObjectURL(url);
});

/* Kh·ªüi t·∫°o */
updateProgressLabel();
</script>
 <script>
  function playMusic() {
    var audio = document.getElementById("bg-music");
    if (audio.paused) {
      audio.play();
    } else {
      audio.pause();
    }
  }
</script>

</body>
</html>


